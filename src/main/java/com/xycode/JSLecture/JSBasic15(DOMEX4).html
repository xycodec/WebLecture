<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>JSBasic15</title>
<!--	内联方式设置样式表-->
	<style type="text/css">
		#box1{
			width: 100px;
			height: 100px;
			background-color: blanchedalmond;
			position: absolute;
		}

		#box2{
			top: 200px;
			left: 200px;
			width: 100px;
			height: 100px;
			background-color: blueviolet;
			position: absolute;
		}
	</style>
	<script type="text/javascript">
		window.onload=function () {
		    //鼠标拖动色块
			var box1=document.getElementById("box1");
			box1.onmousedown=function (event) {
				console.log("box1 mouse down");
                // event=event||window.event;
                //鼠标索引位置-box1索引位置
				var offsetX=event.clientX-box1.offsetLeft;
				var offsetY=event.clientY-box1.offsetTop;
				document.onmousemove=function (event) {
				   	if(event.buttons===1){//当鼠标按下时,这里指的就是box1
                        console.log("mouse move");
                        // event=event||window.event;
                        box1.style.left=(event.clientX-offsetX)+"px";
                        box1.style.top=(event.clientY-offsetY)+"px";
                    }
                }
            };

            var box2=document.getElementById("box2");
            box2.onmousedown=function (event) {
                console.log("box2 mouse down");
                // event=event||window.event;
                //鼠标索引位置-box1索引位置
                var offsetX=event.clientX-box2.offsetLeft;
                var offsetY=event.clientY-box2.offsetTop;
                document.onmousemove=function (event) {
                    if(event.buttons===1){//当鼠标按下时,这里指的就是box1
                        console.log("mouse move");
                        // event=event||window.event;
                        box2.style.left=(event.clientX-offsetX)+"px";
                        box2.style.top=(event.clientY-offsetY)+"px";
                    }
                }
            };
            document.onmouseup=function () {
                console.log("mouse up");
                document.onmousemove=null;
                document.onmouseup=null;
            };

        }

	</script>
</head>
<body>
	<div id="box1"></div>
	<div id="box2"></div>
</body>
</html>